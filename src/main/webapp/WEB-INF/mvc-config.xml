<?xml version="1.0" encoding="UTF-8"?>

<beans xmlns="http://www.springframework.org/schema/beans"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:mvc="http://www.springframework.org/schema/mvc"
   xmlns:context="http://www.springframework.org/schema/context"
   xmlns:p="http://www.springframework.org/schema/p"
   xsi:schemaLocation="http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd
      http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
      http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd">

    <!-- Uncomment and your base-package here:
         <context:component-scan
            base-package="org.springframework.samples.web"/>  -->


   <bean class="org.springframework.web.servlet.view.InternalResourceViewResolver">
           <!-- Example: a logical view name of 'showMessage' is mapped to '/WEB-INF/jsp/showMessage.jsp' -->
           <property name="prefix" value="/WEB-INF/jsp/"/>
           <property name="suffix" value=".jsp"/>
   </bean>
   
      <bean id="entityManagerFactory"
      class="org.springframework.orm.jpa.LocalEntityManagerFactoryBean"
      p:persistenceUnitName="ORM"></bean>

   <!-- 어노테이션 해석 종속개체 -->

   <bean
      class="org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor"></bean>

   <!-- 핸들러맵핑 -->
   <bean id="handlerMapping"
      class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
      <property name="mappings">
         <value>/index.html=indexController
            /detail.html=detailController
         </value>
      </property>
   </bean>

   <bean id="itemDao" class="dao.ItemDaoImpl"></bean>
   <bean id="itemCatalog" class="logic.ItemCatalogImpl"
      p:itemDao-ref="itemDao"></bean>
   <bean id="shop" class="logic.ShopImpl"
      p:itemCatalog-ref="itemCatalog"></bean>
   <bean id="indexController" class="controller.IndexController"
      p:shop-ref="shop"></bean>
   <bean id="detailController" class="controller.DetailController"
      p:shop-ref="shop"></bean>
   

</beans>